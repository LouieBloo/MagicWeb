<div class="row h-100" style="background-color: aquamarine;">
    <div class="col d-flex">
        <div class="flex-grow-1 d-flex flex-column"  [ngClass]="{'justify-content-end': !isMine()}">
            <ng-template ngFor let-item [ngForOf]="rows" let-i="index">
                <app-battlefield-row class="" [owner]="owner" [ownerType]="ownerType" [rowType]="item.rowType"
                    [cards]="getCards(item)"></app-battlefield-row>
            </ng-template>
        </div>
        <div class="d-flex flex-column sidePanelBackground">
            <div class="d-flex flex-column">
                <h4 class="text-center mb-0">{{owner?.name}}</h4>
                <div class="d-flex flex-row">
                    <app-counter-modifier class="flex-grow-1" [ownerType]="ownerType" [text]="owner?.health?.amount"
                        [icon]="'favorite'" [counterType]="'Health'" [callback]="healthModified"></app-counter-modifier>
                    <app-counter-modifier class="flex-grow-1" [ownerType]="ownerType" [text]="owner?.poison?.amount"
                        [icon]="'colorize'" [counterType]="'Poison'" [callback]="poisonModified"></app-counter-modifier>
                </div>

                <div class="d-flex flex-row">
                    <div *ngFor="let item of owner?.commanderDamages?.$items | keyvalue" class="flex-grow-1">
                        <app-counter-modifier [ownerType]="ownerType" [text]="item.value.amount + ' CD'" [counterType]="'CommanderDamage'"
                            [id]="item.key" [callback]="commanderDamageModified"></app-counter-modifier>
                    </div>
                </div>
            </div>
            <div class="d-flex">
                <app-card-container [ownerType]="ownerType" [ngStyle]="getOuterStyles()" [cards]="owner?.deck?.cards"
                    [name]="'Deck'" [clickCallback]="deckClicked" [cardLocation]="'Deck'"></app-card-container>
                <app-card-container [ownerType]="ownerType" [ngStyle]="getOuterStyles()" [cards]="battlefield?.commandZone?.cards"
                    [name]="'Command Zone'" [clickCallback]="commandZoneClicked" [cardLocation]="'CommandZone'"></app-card-container>
            </div>
            <div class="d-flex">
                <app-card-container [ownerType]="ownerType" [ngStyle]="getOuterStyles()" [cards]="battlefield?.graveyard?.cards"
                    [name]="'Graveyard'" [clickCallback]="graveyardClicked" [cardLocation]="'Graveyard'"></app-card-container>
                <app-card-container [ownerType]="ownerType" [ngStyle]="getOuterStyles()" [cards]="battlefield?.exile?.cards"
                    [name]="'Exile'" [clickCallback]="exileClicked" [cardLocation]="'Exile'"></app-card-container>
            </div>
            <div *ngIf="ownerType == 'Mine'" class="d-flex h-100 align-items-center" [ngClass]="{'selectable': isTrashSelectable()}" (click)="trashClicked()">
                <h5 class="text-center flex-grow-1" id="trashFont">Trash</h5>
            </div>
        </div>
    </div>
</div>